{"ast":null,"code":"import _classCallCheck from\"C:/Users/basma/Desktop/Python/react/front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/basma/Desktop/Python/react/front/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/basma/Desktop/Python/react/front/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/basma/Desktop/Python/react/front/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CreateTodo=/*#__PURE__*/function(_React$Component){_inherits(CreateTodo,_React$Component);var _super=_createSuper(CreateTodo);function CreateTodo(){var _this;_classCallCheck(this,CreateTodo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.CreateTodoFunc=function(user,title,description,category){var csrf=\"\";var token=\"\";if(document.cookie){csrf=document.cookie.split('; ');for(var i in csrf){if(csrf[i].includes('csrftoken')){token=csrf[i].replace(\"csrftoken=\",'');break;}}}if(user){if(title){if(description){if(category){var requestOptions={method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json','X-CSRFToken':token},body:JSON.stringify({user:user,title:title,description:description,category:category})};fetch('/api/',requestOptions).then(function(response){return response.json();}).then(function(data){return _this.setState({todos:_this.state.push(data)});});document.getElementById('user').value='';document.getElementById('title').value='';document.getElementById('description').value='';document.getElementById('category').value='';document.getElementById('errortext').innerHTML='';}else{_this.setState({error:'Category is not defined'});}}else{_this.setState({error:'Description is not defined'});}}else{_this.setState({error:'Title is not defined'});}}else{_this.setState({error:'User is not defined'});}};_this.state={user:'',title:'',description:'',category:'',error:'',todos:''};return _this;}_createClass(CreateTodo,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('/api/todo_list').then(function(request){return _this2.setState({todos:request.data});});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"registrationDiv\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Create Todo\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Remember everything\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"forms\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){return _this3.setState({user:event.target.value});},value:this.state.user,type:\"text\",placeholder:\"User\",id:\"user\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){return _this3.setState({title:event.target.value});},value:this.state.title,type:\"text\",placeholder:\"Title\",id:\"title\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){return _this3.setState({description:event.target.value});},value:this.state.description,type:\"text\",placeholder:\"Description\",id:\"description\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){return _this3.setState({category:event.target.value});},value:this.state.category,type:\"text\",placeholder:\"Category\",id:\"category\"})]}),/*#__PURE__*/_jsx(\"p\",{id:\"errortext\",children:this.state.error}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this3.CreateTodoFunc(_this3.state.user,_this3.state.title,_this3.state.description,_this3.state.category);},type:\"submit\",id:\"but\",children:\"Sign in\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"registrationDiv\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Todo List\"}),this.state.todos?this.state.todos.map(function(x){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:x.id}),/*#__PURE__*/_jsx(\"span\",{children:x.user}),/*#__PURE__*/_jsx(\"span\",{children:x.title}),/*#__PURE__*/_jsx(\"span\",{children:x.description}),/*#__PURE__*/_jsx(\"span\",{children:x.date}),/*#__PURE__*/_jsx(\"hr\",{})]});}):/*#__PURE__*/_jsx(\"p\",{children:\"no todos\"})]})]});}}]);return CreateTodo;}(React.Component);export{CreateTodo as default};","map":{"version":3,"names":["React","axios","CreateTodo","CreateTodoFunc","user","title","description","category","csrf","token","document","cookie","split","i","includes","replace","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","data","setState","todos","state","push","getElementById","value","innerHTML","error","get","request","event","target","map","x","id","date","Component"],"sources":["C:/Users/basma/Desktop/Python/react/front/src/pages/create_todo.js"],"sourcesContent":["import React from \"react\"\r\nimport axios from \"axios\";\r\n\r\nexport default class CreateTodo extends React.Component{\r\n\r\n    CreateTodoFunc = (user,title,description,category) => {\r\n        let csrf = \"\"\r\n        let token = \"\"\r\n        if (document.cookie){\r\n            csrf = document.cookie.split('; ')\r\n            for(let i in csrf){\r\n                if(csrf[i].includes('csrftoken')){\r\n                    token = csrf[i].replace(\"csrftoken=\",'')\r\n                    break\r\n                }\r\n            }\r\n        }\r\n        if (user){\r\n            if (title){\r\n                if (description){\r\n                    if (category){\r\n                            const requestOptions = {\r\n                                method:'POST',\r\n                                \r\n                                headers:{\r\n                                    'Content-Type': 'application/json',\r\n                                    'Accept': 'application/json',\r\n                                    'X-CSRFToken': token,\r\n                                },\r\n                                body:JSON.stringify({\r\n                                    user:user,\r\n                                    title:title,\r\n                                    description:description,\r\n                                    category:category,\r\n                                })\r\n                            }\r\n                            fetch('/api/',requestOptions)\r\n                            .then((response) => response.json())\r\n                            .then((data) => (this.setState({todos:this.state.push(data)})))\r\n                            document.getElementById('user').value = ''\r\n                            document.getElementById('title').value = ''\r\n                            document.getElementById('description').value = ''\r\n                            document.getElementById('category').value = ''\r\n                            document.getElementById('errortext').innerHTML = ''\r\n                    }else{\r\n                        this.setState({error:'Category is not defined'})\r\n                    }\r\n                }else{\r\n                    this.setState({error:'Description is not defined'})\r\n                }\r\n            }else{\r\n                this.setState({error:'Title is not defined'})\r\n            }        \r\n        }else{\r\n            this.setState({error:'User is not defined'})\r\n        }\r\n\r\n    }\r\n    \r\n    state = {\r\n        user:'',\r\n        title:'',\r\n        description:'',\r\n        category:'',\r\n        error:'',\r\n        todos:'',\r\n    }        \r\n    componentDidMount(){\r\n        axios.get('/api/todo_list')\r\n        .then(request => this.setState({todos:request.data}))        \r\n    }\r\n    render(){\r\n    return(\r\n        <>\r\n        <div className=\"registrationDiv\">\r\n            <p>Create Todo</p>\r\n            <span>Remember everything</span>\r\n            <form className=\"forms\">\r\n                \r\n                <input onChange={event => this.setState({user:event.target.value})}         value ={this.state.user}         type=\"text\"  placeholder=\"User\"        id=\"user\"/>\r\n                <input onChange={event => this.setState({title:event.target.value})}        value ={this.state.title}        type=\"text\"  placeholder=\"Title\"       id=\"title\"/>\r\n                <input onChange={event => this.setState({description:event.target.value})}  value ={this.state.description}  type=\"text\"  placeholder=\"Description\" id=\"description\"/>\r\n                <input onChange={event => this.setState({category:event.target.value})}     value ={this.state.category}     type=\"text\"  placeholder=\"Category\"    id=\"category\"/>\r\n            </form> \r\n            <p id=\"errortext\">{this.state.error}</p>\r\n            {/* <button type=\"submit\" id=\"but\" onClick={event => console.log( event.target.id)}>Create</button> */}\r\n            <button onClick={() => this.CreateTodoFunc(this.state.user,this.state.title,this.state.description,this.state.category)} type=\"submit\" id=\"but\" >Sign in</button>\r\n        </div>   \r\n        <br />\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <div className=\"registrationDiv\">\r\n            <p>Todo List</p>\r\n            {\r\n                \r\n                this.state.todos ? this.state.todos.map(x => {return(\r\n                    <>\r\n                        <span>{x.id}</span>\r\n                        <span>{x.user}</span>\r\n                        <span>{x.title}</span>\r\n                        <span>{x.description}</span>\r\n                        <span>{x.date}</span>\r\n                        <hr />\r\n                    </>\r\n                )}): <p>no todos</p>\r\n            }\r\n        </div>          \r\n        </>\r\n    )\r\n}}"],"mappings":"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"},"metadata":{},"sourceType":"module"}