{"ast":null,"code":"import _slicedToArray from\"C:/Users/basma/Desktop/Python/react/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./static/css/App.css';import Header from'./layout/header';import Footer from'./layout/footer';import Registration from'./pages/registration';import Login from'./pages/login';import Cookie from'./pages/coocie';import Page404 from'./pages/404';import Home from'./pages/home';import CreateTodo from'./pages/create_todo';import TodoList from'./pages/todo_list';import{Routes,Route}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],changeUser=_useState2[1];var _useState3=useState('Register'),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],changeTitle=_useState4[1];var headers=[{id:1,link:'',title:'Главная',component:/*#__PURE__*/_jsx(Home,{})},{id:2,link:'create_todo',title:'Создать заметку',component:/*#__PURE__*/_jsx(CreateTodo,{})},{id:3,link:'todo_list',title:'Список заметок',component:/*#__PURE__*/_jsx(TodoList,{})},{id:4,link:'api/create_todo',title:'Create todo',component:null}];axios.get('/api/is_authenticated').then(function(request){return request.data[0];}).then(function(request){return changeUser(request);});function change(){if(title==='Register'){changeTitle('Login');}else{changeTitle('Register');}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Cookie,{}),/*#__PURE__*/_jsx(Header,{headers:headers,user:user,changeUser:changeUser}),/*#__PURE__*/_jsx(\"h2\",{onClick:change,children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"\",element:/*#__PURE__*/_jsx(Home,{})}),!user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{changeUser:changeUser})}),/*#__PURE__*/_jsx(Route,{path:\"/registration\",element:/*#__PURE__*/_jsx(Registration,{})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/registration\",element:/*#__PURE__*/_jsx(Home,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"/create_todo\",element:/*#__PURE__*/_jsx(CreateTodo,{})}),/*#__PURE__*/_jsx(Route,{path:\"/todo_list\",element:/*#__PURE__*/_jsx(TodoList,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Page404,{})})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","useState","Header","Footer","Registration","Login","Cookie","Page404","Home","CreateTodo","TodoList","Routes","Route","axios","App","user","changeUser","title","changeTitle","headers","id","link","component","get","then","request","data","change"],"sources":["C:/Users/basma/Desktop/Python/react/front/src/App.js"],"sourcesContent":["import React,{ useState } from 'react'\nimport './static/css/App.css';\nimport Header from './layout/header';\nimport Footer from './layout/footer';\nimport Registration from './pages/registration';\nimport Login from './pages/login';\nimport Cookie from './pages/coocie';\nimport Page404 from './pages/404';\nimport Home from './pages/home';\nimport CreateTodo from './pages/create_todo';\nimport TodoList from './pages/todo_list';\nimport { Routes, Route } from 'react-router-dom';\nimport axios from 'axios';\n\n  \nfunction App() {\n  \n  const [user, changeUser] = useState('')\n  const [title,changeTitle] = useState('Register')\n  const headers = [\n    {id:1,link:'',title:'Главная',component:<Home/>},\n    {id:2,link:'create_todo',title:'Создать заметку',component:<CreateTodo/>},\n    {id:3,link:'todo_list',title:'Список заметок',component:<TodoList/>},\n    {id:4,link:'api/create_todo',title:'Create todo',component:null},\n  ]\n\n  axios.get('/api/is_authenticated')\n  .then(request => request.data[0])\n  .then(request => changeUser(request))\n  \n  function change(){\n    if (title === 'Register') {\n      changeTitle('Login')      \n    }else{\n      changeTitle('Register')      \n    }\n  }\n\n  return (\n    <>\n      <Cookie/>\n      <Header headers={headers} user={user} changeUser={changeUser}/>\n      <h2 onClick={change}>{title}</h2>\n\n      <div className=\"content\">\n        <Routes>\n          <Route path='' element={<Home/>}/>\n          {!user ? <><Route path='/login' element={<Login changeUser={changeUser}/>}/>\n                    <Route path='/registration' element={<Registration/>}/></>\n\n                :<><Route path='/login' element={<Home/>}/>\n                  <Route path='/registration' element={<Home/>}/></> }\n          \n          <Route path='/create_todo' element={<CreateTodo/>}/>\n          <Route path='/todo_list' element={<TodoList/>}/>\n          <Route path='*' element={<Page404/>}/>\n        </Routes>        \n      </div>\n      <Footer/>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}